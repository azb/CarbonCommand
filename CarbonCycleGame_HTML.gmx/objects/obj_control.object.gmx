<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
draw_set_font(fnt_default)

global.cash = 0 //100000

scr_start_stage()
tab = 0

//carbon_left = 0
//alarm[0] = -1

answer = -1
correct_answer = 2

question = "What causes global warming?"
answers = 4
answer_text[0] = "CO2"
answer_text[1] = "Trees"
answer_text[2] = "Blankets"
answer_text[3] = "Laughing"

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if carbon_left &gt; 0
    {
    alarm[0] = 20
    instance_create(random(room_width) , -8 , obj_carbon)
    carbon_left--
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if background_y[2] &lt; actual_back_y // = adjust(background_y[2] , actual_back_y)
background_y[2] += .5
if background_y[2] &gt; actual_back_y // = adjust(background_y[2] , actual_back_y)
background_y[2] -= .5

actual_back_y = by_start - global.carbon // 10 * 5
if actual_back_y &lt; by_start - 200
actual_back_y = by_start - 200

if background_y[2] &lt; by_start - 500
background_y[2] = by_start - 500

if keyboard_check_pressed(vk_left) {
    with obj_tree
    {
        if instance_nearest(0,room_height*3/4,obj_tree) = id
            if cfire
                {
                cfire = 0
                alarm[0] = 10
                effect_create_above(ef_spark,x,y - 64,1,c_lime)
                nb = instance_create(x,y - 64,obj_bullet)
                nb.direction = point_direction(nb.x,nb.y,mouse_x,mouse_y)
                nb.image_angle = nb.direction
                nb.speed = 5
                nb.tx = mouse_x
                nb.ty = mouse_y
                ammo--
                }
    }
}
if keyboard_check_pressed(vk_up) {
    with obj_tree 
    {
        if instance_nearest(room_width/2,room_height*3/4,obj_tree) = id
            if cfire
                {
                cfire = 0
                alarm[0] = 10
                effect_create_above(ef_spark,x,y - 64,1,c_lime)
                nb = instance_create(x,y - 64,obj_bullet)
                nb.direction = point_direction(nb.x,nb.y,mouse_x,mouse_y)
                nb.image_angle = nb.direction
                nb.speed = 5
                nb.tx = mouse_x
                nb.ty = mouse_y
                ammo--
                }
    }
}
if keyboard_check_pressed(vk_right) {
    with obj_tree 
    {
        if instance_nearest(room_width,room_height*3/4,obj_tree) = id
            if cfire
                {
                cfire = 0
                alarm[0] = 10
                effect_create_above(ef_spark,x,y - 64,1,c_lime)
                nb = instance_create(x,y - 64,obj_bullet)
                nb.direction = point_direction(nb.x,nb.y,mouse_x,mouse_y)
                nb.image_angle = nb.direction
                nb.speed = 5
                nb.tx = mouse_x
                nb.ty = mouse_y
                ammo--
                }
    }
}

if keyboard_check_pressed(ord('A')) {
    with obj_CO_level_gauge {
        if CO_level &gt;= 10
            CO_level -= 10
    }
}
if keyboard_check_pressed(ord('D')) {
    with obj_CO_level_gauge {
        if CO_level &lt;= 290
            CO_level += 10
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if global.temperature &gt; 20 //LOSE
    {
    gameover = 1
    draw_set_color(c_black)
    draw_set_halign(fa_center)
    draw_set_valign(fa_center)    
    draw_set_font(fnt_large)
    draw_text(room_width/2 , room_height/2 , "Oh noes! Earth got flooded!")
    draw_set_font(fnt_default)
    if button(spr_button,room_width/2-160,room_height/2 + 128, 320,48,'Restart',-1,0,'')
        {
        scr_start_stage()
        }
    }
if instance_number(obj_carbon) = 0 &amp;&amp; carbon_left = 0 //WIN
    {
    draw_set_alpha(.4)
    draw_set_color(c_black)
    draw_rectangle(0,0,room_width,room_height,0)
    draw_set_alpha(1)
    if tab = 0
        {
        if random(10) &gt; 9
            {
            effect_create_above(ef_firework,random(room_width),random(room_height),irandom(2),choose(c_lime,c_yellow,c_blue,c_red,c_purple,c_aqua))
            }
        gameover = 2
        draw_set_font(fnt_large)
        draw_set_color(c_black)
        draw_set_halign(fa_center)
        draw_set_valign(fa_center)    
        draw_text_outlined(room_width/2 , room_height/2 , "Stage Completed!", c_white,c_black)
        draw_set_font(fnt_default)
        draw_text_outlined(room_width/2 , room_height/2 + 96 , "CO2 Absorbed: "+string(carbon_start - global.temperature)+'/'+string(carbon_start)
            +"#Carbon Cash: $"+string(global.cash), c_white,c_black)
        if button(spr_button,room_width/2 - 160 - 160,room_height/2 + 168, 320,48,'Improve',-1,0,'')
            {
            scr_start_stage()
            }
        /*
        if button(spr_button,room_width/2 - 160 ,room_height/2 + 128, 320,48,'Upgrades',-1,0,'')
            {
            
            }
        */
        if button(spr_button,room_width/2 - 160 + 160,room_height/2 + 168, 320,48,'Next Stage',-1,0,'')
            {
            tab = 1
            }
        }
    if tab = 1
        {
        draw_set_halign(fa_left)
        draw_set_valign(fa_center) 
        draw_set_font(fnt_default)
        draw_text_outlined(room_width/2 - 440 , room_height/2 - 200, "Answer this question correctly to get $100 more Carbon Cash!##"+question, c_black,c_white)
        if answer &gt; -1
        if button(spr_button,room_width/2 - 160,room_height - 240, 320,48,'Submit',-1,0,'')
            {
            tab = 2
            exit
            }
        for(i=0 ; i &lt; answers; i++)
            {
            if button_tab(spr_radio,room_width/2 - 420,room_height / 2 - 64 - 40 + 64 * i,48,48,'',-1,0,'',answer,i)
                answer = i
            draw_text_outlined(room_width/2 - 420 + 128,room_height / 2 - 64 - 40 + 64 * i + 24, answer_text[i], c_black,c_white)
            }
        
        }
    if tab = 2
        {
        draw_set_halign(fa_center)
        draw_set_valign(fa_center)  
        if answer = correct_answer
            {
            draw_text_outlined(room_width/2  , room_height/2 , 'Your answer "'+string_lower(answer_text[answer])+'" is correct!#Congratulations! You made $100 Carbon Cash!', c_black,c_lime)
        
            }
        else
            {
            draw_text_outlined(room_width/2 , room_height/2 , 'Your answer "'+string_lower(answer_text[answer])+'" is incorrect.#:( Better luck next time!', c_black,c_red)
        
            }
        if button(spr_button,room_width/2 - 160,room_height - 240, 320,48,'Continue',-1,0,'')
            {
            tab = 3
            }
        }
    if tab = 3
        {
        draw_text_outlined(room_width/2 , room_height/2 - 200 , "Purchase Upgrades", c_white,c_black)
        if button(spr_button,room_width - 480,room_height - 96, 320,48,'Start Next Stage',-1,0,'')
            {
            tab = 0
            scr_start_stage()
                        
            with (obj_tree)
            {ammo = ammo_max}
            }
        }
    }
else
    {
    draw_set_halign(fa_left)
    draw_set_valign(fa_top)
    draw_set_color(c_red)
    draw_set_font(font1)
    //draw_text(20,background_y[2] + 800 - 20 - 255,"Sea Level")
    //draw_line(0 , background_y[2] + 800 - 255, room_width, background_y[2] + 800 - 255)
    
    //draw_sprite(spr_ice,0,-global.temperature / 10 * 256,room_height - 256)
    // draw_sprite_ext(spr_ice,0,room_width + global.temperature / 10 * 256,room_height - 256,-1,1,0,c_white,1)
    
    draw_sprite(spr_thermometer , 0 ,50,50)
    
    draw_text(100,50,"Score: "+string(score))
    draw_text(100,80,"Carbon Cash: $"+string(global.cash))
    
    draw_set_color(c_red)
    //global.temperature = global.carbon / 20 //instance_number(obj_carbon) / 10
    draw_rectangle(62,180 - global.temperature / 20 * 130 ,70,180,0) //top = 50
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.temperature &lt; 10
global.temperature += .1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="83">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.temperature &gt; 0
global.temperature -= .1
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
